<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wms.mapper.systemsetting.PrivilegeManageMapper">
<select id="getPrivilege" resultType="com.wms.model.LoginLeftBar">
select treelevel,privilegename from userprivilege u
left join privilegeinfo p on u.privilegeid = p.id
where level=#{level}
</select>



	<delete id="DeletePrivileges">
		DELETE FROM userprivilege
		WHERE level=#{level}
	</delete>


	<insert id="AddPrivileges" parameterType="java.util.HashMap">
		INSERT INTO userprivilege(level,privilegeid)
		VALUES
		<foreach item="treelevel" index="index"
			collection="treelevels" separator=",">
			(#{level},
			(SELECT pi.id FROM privilegeinfo pi WHERE pi.treelevel=#{treelevel}))
		</foreach>
	</insert>

</mapper>